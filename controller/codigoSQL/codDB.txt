CREATE DATABASE SMILIPS;

USE SMILIPS;

CREATE TABLE administrador(administradorID INT AUTO_INCREMENT PRIMARY KEY, email VARCHAR(100) NOT NULL, senha VARCHAR(35) NOT NULL);

CREATE TABLE usuario(usuarioID INT AUTO_INCREMENT PRIMARY KEY, nomeUsuario VARCHAR(100) NOT NULL, emailUsuario VARCHAR(100) UNIQUE NOT NULL, senhaUsuario VARCHAR(35) NOT NULL, rua VARCHAR(45) NOT NULL, bairro VARCHAR(45) NOT NULL, numero VARCHAR(5) NOT NULL, complemento VARCHAR(45), telefone VARCHAR(20) NOT NULL, ftPerfil LONGBLOB NOT NULL, situacao VARCHAR(10) NOT NULL);

CREATE TABLE imovel(imovelID INT AUTO_INCREMENT PRIMARY KEY, rua VARCHAR(45) NOT NULL, cidade VARCHAR(45) NOT NULL, bairro VARCHAR(45), tipo VARCHAR(20) NOT NULL, valorAluguel DOUBLE NOT NULL, qtdQuarto INT NOT NULL, qtdBanheiro INT NOT NULL, qtdGaragem INT NOT NULL, area VARCHAR(10) NOT NULL, descricao VARCHAR(200) NOT NULL, usuarioID INT NOT NULL, CONSTRAINT fK_imovel_usuario FOREIGN KEY (usuarioID) REFERENCES usuario(usuarioID) ON UPDATE CASCADE ON DELETE CASCADE);

CREATE TABLE imgImovel(imgImovelID INT AUTO_INCREMENT PRIMARY KEY, imagem LONGBLOB NOT NULL, imovelID INT NOT NULL, CONSTRAINT fK_imgImovel_imovel FOREIGN KEY (imovelID) REFERENCES imovel(imovelID) ON UPDATE CASCADE ON DELETE CASCADE);

DROP TABLE administrador;

DROP TABLE usuario;

DROP TABLE imovel;

DROP TABLE imgImovel;

